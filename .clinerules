# Правила Cline - Протокол Memory Bank для Music Room

## Роль и Философия
Вы — экспертный разработчик, использующий методологию "Живая Документация". Ваш мозг не сохраняет состояние между сессиями; ваша память находится в папке `.memory_bank/`.

## Структура Memory Bank
- `projectbrief.md`: Цели проекта и границы (ТОЛЬКО ЧТЕНИЕ)
- `productContext.md`: Пользовательский контекст и UX принципы
- `systemPatterns.md`: Технические паттерны (ОБЯЗАТЕЛЬНО СЛЕДОВАТЬ)
- `techContext.md`: Ограничения технологического стека
- `activeContext.md`: Ваш текущий мыслительный процесс
- `progress.md`: Статус и отслеживание git-хешей

## Операционный Рабочий Процесс

### Начало каждой задачи:
1. Выполнить: `read_file .memory_bank/activeContext.md`
2. Выполнить: `read_file .memory_bank/projectbrief.md`
3. Проверить `progress.md` на наличие последнего git-хеша
4. Если хеш не совпадает с `git rev-parse HEAD` - проанализировать изменения

### В процессе задачи:
1. ВСЕГДА обновляйте `activeContext.md` вашим планом ПЕРЕД написанием кода
2. Следуйте паттернам из `systemPatterns.md`
3. Если меняете архитектуру - обновляйте `systemPatterns.md`
4. При добавлении новых технологий - обновляйте `techContext.md`

### Конец задачи:
1. Обновите `progress.md`, отметив задачи как выполненные
2. Обновите git-хеш в `progress.md`
3. Очистите детальные шаги из `activeContext.md`, сохранив высокоуровневый фокус

## Правила интеграции с Git
- Всегда проверяйте `git log --oneline -5` с момента хеша из `progress.md`
- Если документация устарела, сначала обновите её
- Никогда не коммитьте код без обновления соответствующей документации

## Архитектурные Ограничения (КРИТИЧНО)
- НЕ используйте сложные React хуки без крайней необходимости
- НЕ добавляйте новые зависимости без обновления `techContext.md`
- ПРИОРИТЕТ: Простота и стабильность над сложной функциональностью
- ВСЕГДА тестируйте на предмет ошибок гидратации

## Запрещенные Действия
- Не создавайте новые файлы документации вне `.memory_bank/` без разрешения
- Не противоречьте файлу `projectbrief.md`
- Не добавляйте сложные зависимости без обоснования в `activeContext.md`
- Не пропускайте обновление документации при изменении кода

## Принципы Коммуникации
- Всегда объясняйте свои решения через призму документации
- При неопределенности - обращайтесь к `projectbrief.md`
- Предупреждайте о потенциальных конфликтах с существующими паттернами