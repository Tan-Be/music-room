# 📸 GitHub OAuth - Визуальная инструкция

## 🎯 Что вы увидите на каждом шаге

### Шаг 1: GitHub Developer Settings
**URL**: https://github.com/settings/developers

**Что увидите:**
```
┌─────────────────────────────────────────┐
│ GitHub Developer settings               │
├─────────────────────────────────────────┤
│ OAuth Apps                              │
│ ┌─────────────────────────────────────┐ │
│ │ [New OAuth App]  (зеленая кнопка)   │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ GitHub Apps                             │
│ Personal access tokens                  │
└─────────────────────────────────────────┘
```

### Шаг 2: Форма создания OAuth App
**После нажатия "New OAuth App":**

```
┌─────────────────────────────────────────┐
│ Register a new OAuth application        │
├─────────────────────────────────────────┤
│ Application name *                      │
│ ┌─────────────────────────────────────┐ │
│ │ Music Room Local Dev                │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Homepage URL *                          │
│ ┌─────────────────────────────────────┐ │
│ │ http://localhost:3000               │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Application description                 │
│ ┌─────────────────────────────────────┐ │
│ │ Music Room - платформа для          │ │
│ │ совместного прослушивания музыки    │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ Authorization callback URL *            │
│ ┌─────────────────────────────────────┐ │
│ │ http://localhost:3000/api/auth/     │ │
│ │ callback/github                     │ │
│ └─────────────────────────────────────┘ │
│                                         │
│ [Register application] (зеленая кнопка) │
└─────────────────────────────────────────┘
```

### Шаг 3: Страница созданного приложения
**После регистрации:**

```
┌─────────────────────────────────────────┐
│ Music Room Local Dev                    │
├─────────────────────────────────────────┤
│ Client ID                               │
│ ┌─────────────────────────────────────┐ │
│ │ Ov23liABC123DEF456                  │ │ ← СКОПИРОВАТЬ
│ └─────────────────────────────────────┘ │
│                                         │
│ Client secrets                          │
│ [Generate a new client secret] (кнопка) │ ← НАЖАТЬ
│                                         │
│ После генерации:                        │
│ ┌─────────────────────────────────────┐ │
│ │ ghs_1234567890abcdef1234567890abcd  │ │ ← СКОПИРОВАТЬ
│ └─────────────────────────────────────┘ │
│ ⚠️ Показывается только один раз!        │
└─────────────────────────────────────────┘
```

## 🔧 Что делать с полученными данными

### Вариант 1: Автоматический скрипт
```powershell
# Запустить интерактивный скрипт
.\scripts\interactive-github-setup.ps1
```

### Вариант 2: Быстрый скрипт
```powershell
# Заменить YOUR_CLIENT_ID и YOUR_CLIENT_SECRET на реальные
.\scripts\setup-github-oauth.ps1 "YOUR_CLIENT_ID" "YOUR_CLIENT_SECRET"
```

### Вариант 3: Ручное редактирование
Открыть `.env.local` и заменить:
```bash
NEXT_PUBLIC_GITHUB_CLIENT_ID=Ov23liABC123DEF456
GITHUB_CLIENT_ID=Ov23liABC123DEF456
GITHUB_CLIENT_SECRET=ghs_1234567890abcdef1234567890abcd
```

## ✅ Проверка результата

### До настройки (демо данные):
```
┌─────────────────────────────────────────┐
│ 🔐 Вход в Music Room                    │
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ ⚠️ GitHub OAuth требует настройки   │ │
│ │ Создайте GitHub OAuth App для       │ │
│ │ активации                           │ │
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

### После настройки (реальные данные):
```
┌─────────────────────────────────────────┐
│ 🔐 Вход в Music Room                    │
├─────────────────────────────────────────┤
│ ┌─────────────────────────────────────┐ │
│ │ 🐙 Войти через GitHub               │ │ ← АКТИВНАЯ КНОПКА
│ └─────────────────────────────────────┘ │
└─────────────────────────────────────────┘
```

## 🎯 Тестирование

1. **Нажать кнопку "Войти через GitHub"**
2. **Увидеть реальный GitHub OAuth экран:**
```
┌─────────────────────────────────────────┐
│ Authorize Music Room Local Dev          │
├─────────────────────────────────────────┤
│ Music Room Local Dev by YOUR_USERNAME   │
│ wants to access your GitHub account     │
│                                         │
│ This application will be able to:       │
│ • Verify your GitHub identity           │
│ • Read your public profile information  │
│                                         │
│ [Authorize YOUR_USERNAME] (зеленая)     │
│ [Cancel] (серая)                        │
└─────────────────────────────────────────┘
```

3. **После авторизации - возврат в приложение с активной сессией**

## 🚨 Частые ошибки

### Ошибка 404 на GitHub:
- **Причина**: Неверный Client ID
- **Решение**: Проверить Client ID в .env.local

### Ошибка после авторизации:
- **Причина**: Неверный Callback URL
- **Решение**: Должен быть `http://localhost:3000/api/auth/callback/github`

### Кнопка не активна:
- **Причина**: Сервер не перезапущен
- **Решение**: Ctrl+C, затем `pnpm dev`