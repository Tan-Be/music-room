# Настройка Supabase

## Создание проекта

1. Перейдите на [supabase.io](https://supabase.io) и создайте аккаунт
2. Создайте новый проект с именем "Music Room"
3. Выберите регион ближайший к вашим пользователям
4. Установите пароль для базы данных

## Конфигурация переменных окружения

После создания проекта вы получите:
- Project URL
- Anon Key

Добавьте эти значения в файл `.env.local`:

```
NEXT_PUBLIC_SUPABASE_URL=your_project_url
NEXT_PUBLIC_SUPABASE_ANON_KEY=your_anon_key
```

## Настройка аутентификации

1. Перейдите в раздел Authentication в панели управления Supabase
2. Включите Email authentication
3. При необходимости настройте провайдеров OAuth (Spotify, Google, etc.)

## Создание таблиц базы данных

1. Перейдите в раздел SQL Editor в панели управления Supabase
2. Выполните SQL скрипт из файла `src/lib/schema.sql`
3. Проверьте, что все таблицы созданы успешно

## Настройка политик безопасности (RLS)

Для каждой таблицы необходимо настроить Row Level Security:

1. Включите RLS для каждой таблицы
2. Настройте политики доступа в соответствии с ролями пользователей
3. Протестируйте доступ к данным

## Настройка Realtime

1. Включите Realtime для таблицы `chat_messages`
2. Настройте подписки в клиентском коде
3. Протестируйте функциональность в реальном времени