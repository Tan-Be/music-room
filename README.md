# üéµ Music Room - Collaborative Playlists

–ü–ª–∞—Ç—Ñ–æ—Ä–º–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è —Å–æ–≤–º–µ—Å—Ç–Ω—ã—Ö –ø–ª–µ–π–ª–∏—Å—Ç–æ–≤ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–µ –∫–æ–º–Ω–∞—Ç—ã, —Å–ª—É—à–∞—Ç—å –º—É–∑—ã–∫—É —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ —Å –¥—Ä—É–∑—å—è–º–∏, –≥–æ–ª–æ—Å–æ–≤–∞—Ç—å –∑–∞ —Ç—Ä–µ–∫–∏ –∏ –æ–±—â–∞—Ç—å—Å—è –≤ —á–∞—Ç–µ.

## ‚ú® –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏

- üéµ **–°–æ–≤–º–µ—Å—Ç–Ω–æ–µ –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–µ** - —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –≤–æ—Å–ø—Ä–æ–∏–∑–≤–µ–¥–µ–Ω–∏–µ –¥–ª—è –≤—Å–µ—Ö —É—á–∞—Å—Ç–Ω–∏–∫–æ–≤
- üó≥Ô∏è **–°–∏—Å—Ç–µ–º–∞ –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏—è** - —É—á–∞—Å—Ç–Ω–∏–∫–∏ –≥–æ–ª–æ—Å—É—é—Ç –∑–∞ —Ç—Ä–µ–∫–∏ –≤ –æ—á–µ—Ä–µ–¥–∏
- üí¨ **–ß–∞—Ç –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏** - –æ–±—â–µ–Ω–∏–µ –≤–æ –≤—Ä–µ–º—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏—è
- üîê **–¢–∏–ø—ã –∫–æ–º–Ω–∞—Ç** - –ø—É–±–ª–∏—á–Ω—ã–µ, –ø—Ä–∏–≤–∞—Ç–Ω—ã–µ –ø–æ —Å—Å—ã–ª–∫–µ, —Å –ø–∞—Ä–æ–ª–µ–º
- üì± **PWA –ø–æ–¥–¥–µ—Ä–∂–∫–∞** - —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–∞–∫ –º–æ–±–∏–ª—å–Ω–æ–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ
- üéß **–ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è** —Å Spotify –∏ YouTube API

## üõ† –¢–µ—Ö–Ω–æ–ª–æ–≥–∏—á–µ—Å–∫–∏–π —Å—Ç–µ–∫

- **Frontend**: Next.js 14 (App Router), TypeScript, Tailwind CSS
- **UI**: shadcn/ui –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã
- **Backend**: Supabase (PostgreSQL, Auth, Realtime)
- **State Management**: Zustand
- **–•–æ—Å—Ç–∏–Ω–≥**: Vercel
- **–ü–∞–∫–µ—Ç–Ω—ã–π –º–µ–Ω–µ–¥–∂–µ—Ä**: pnpm

## üìã –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

- [–¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ](./docs/PRD.md)
- [–ü–ª–∞–Ω —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏](./docs/development_plan.md)
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase](./docs/supabase-setup.md) **(–í–ê–ñ–ù–û: –æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ –æ–∑–Ω–∞–∫–æ–º—å—Ç–µ—Å—å –ø–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º)**
- [–ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth (Google, GitHub, Spotify)](./docs/quick-oauth-setup.md) ‚ö° **–ù–æ–≤–æ–µ!**
- [–ö–∞–∫ –¥–æ–±–∞–≤–ª—è—Ç—å –∏ —Å–ª—É—à–∞—Ç—å —Ç—Ä–µ–∫–∏](./docs/how-to-use-tracks.md) üéµ **–ù–æ–≤–æ–µ!**
- [–û—Ç—á–µ—Ç –æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ —Ç—Ä–µ–∫–æ–≤](./docs/track-functionality-report.md)
- [–£–ª—É—á—à–µ–Ω–∏—è UI/UX](./docs/ui-improvements.md)
- [–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ UI](./docs/ui-guide.md)
- [–û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏](./docs/performance-optimizations.md)

## üì¶ –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–æ—Å—Ç–æ—è–Ω–∏—è (Zustand Stores)

–ü—Ä–æ–µ–∫—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç Zustand –¥–ª—è —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í—Å–µ —Ö—Ä–∞–Ω–∏–ª–∏—â–∞ –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ [src/stores](./src/stores):

- **useAuthStore** ‚úÖ - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏ (user, profile, loading, error)
- **useRoomStore** ‚úÖ - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Ç–µ–∫—É—â–µ–π –∫–æ–º–Ω–∞—Ç—ã (room, queue, participants)
- **usePlayerStore** ‚úÖ - —Å–æ—Å—Ç–æ—è–Ω–∏–µ –ø–ª–µ–µ—Ä–∞ (isPlaying, volume, currentTime)
- **useChatStore** ‚úÖ - —Å–æ—Å—Ç–æ—è–Ω–∏–µ —á–∞—Ç–∞ (messages, typing, unreadCount)

**–°—Ç–∞—Ç—É—Å**: –í—Å–µ stores —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã –∏ –ø—Ä–æ—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω—ã (25 —Ç–µ—Å—Ç–æ–≤ ‚úÖ)  
**–î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è**: [zustand-stores-verification.md](./docs/zustand-stores-verification.md)

## ‚ö° –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

–ü—Ä–æ–µ–∫—Ç –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–π –¥–ª—è –æ–±–µ—Å–ø–µ—á–µ–Ω–∏—è –≤—ã—Å–æ–∫–æ–π –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏:

- **React.memo** –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞—é—â–∏–π –Ω–µ–Ω—É–∂–Ω—ã–µ –ø–µ—Ä–µ—Ä–∏—Å–æ–≤–∫–∏
- **useMemo** –¥–ª—è —Ç—è–∂–µ–ª—ã—Ö –≤—ã—á–∏—Å–ª–µ–Ω–∏–π, —Ç–∞–∫–∏—Ö –∫–∞–∫ —Å–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞ —Ç—Ä–µ–∫–æ–≤
- **–í–∏—Ä—Ç—É–∞–ª–∏–∑–∞—Ü–∏—è** –¥–ª–∏–Ω–Ω—ã—Ö —Å–ø–∏—Å–∫–æ–≤ (–æ—á–µ—Ä–µ–¥–∏ —Ç—Ä–µ–∫–æ–≤, —Å–æ–æ–±—â–µ–Ω–∏—è —á–∞—Ç–∞)
- **Debounce** –¥–ª—è –ø–æ–∏—Å–∫–æ–≤—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, —É–º–µ–Ω—å—à–∞—é—â–∏–π –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ API –≤—ã–∑–æ–≤–æ–≤

–ü–æ–¥—Ä–æ–±–Ω–µ–µ —Å–º. –≤ [–¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ –ø–æ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è–º](./docs/performance-optimizations.md).

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### 1. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è

–ü–µ—Ä–µ–¥ –∑–∞–ø—É—Å–∫–æ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è:

1. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `.env.local.example` –≤ `.env.local`:

   ```bash
   cp .env.local.example .env.local
   ```

2. –ó–∞–º–µ–Ω–∏—Ç–µ placeholder –∑–Ω–∞—á–µ–Ω–∏—è –≤ `.env.local` –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏–∑ –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase:
   - NEXT_PUBLIC_SUPABASE_URL - URL –≤–∞—à–µ–≥–æ –ø—Ä–æ–µ–∫—Ç–∞ Supabase
   - NEXT_PUBLIC_SUPABASE_ANON_KEY - –∞–Ω–æ–Ω–∏–º–Ω—ã–π –∫–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞
   - SUPABASE_SERVICE_ROLE_KEY - —Å–µ—Ä–≤–∏—Å–Ω—ã–π –∫–ª—é—á –ø—Ä–æ–µ–∫—Ç–∞
   - SPOTIFY_CLIENT_ID –∏ SPOTIFY_CLIENT_SECRET (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ)

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ OAuth –ø—Ä–æ–≤–∞–π–¥–µ—Ä–æ–≤

–î–ª—è —Ä–∞–±–æ—Ç—ã –≤—Ö–æ–¥–∞ —á–µ—Ä–µ–∑ Google, GitHub –∏ Spotify:

1. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –≤ [docs/quick-oauth-setup.md](./docs/quick-oauth-setup.md)
2. –ù–∞—Å—Ç—Ä–æ–π—Ç–µ –ø—Ä–æ–≤–∞–π–¥–µ—Ä—ã –≤ Supabase Dashboard
3. –î–æ–±–∞–≤—å—Ç–µ —Ç—Ä–∏–≥–≥–µ—Ä –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —Å–æ–∑–¥–∞–Ω–∏—è –ø—Ä–æ—Ñ–∏–ª–µ–π

**–ë—ã—Å—Ç—Ä–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –∑–∞–Ω–∏–º–∞–µ—Ç ~10 –º–∏–Ω—É—Ç**

### 3. –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –∑–∞–ø—É—Å–∫

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π
pnpm install

# –ó–∞–ø—É—Å–∫ development —Å–µ—Ä–≤–µ—Ä–∞
pnpm dev

# –û—Ç–∫—Ä—ã—Ç—å http://localhost:3000
```

## üß™ –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ

```bash
# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤
pnpm test

# –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –≤ —Ä–µ–∂–∏–º–µ –Ω–∞–±–ª—é–¥–µ–Ω–∏—è
pnpm test:watch

# –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª–∏—Ç–∏–∫ –±–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç–∏ (RLS)
pnpm test-rls
```

## üîÑ –ï–∂–µ–¥–Ω–µ–≤–Ω—ã–π —Å–±—Ä–æ—Å –ª–∏–º–∏—Ç–æ–≤ —Ç—Ä–µ–∫–æ–≤

–°–∏—Å—Ç–µ–º–∞ –ª–∏–º–∏—Ç–æ–≤ —Ç—Ä–µ–∫–æ–≤ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ—Ç—Å—è –∫–∞–∂–¥—ã–π –¥–µ–Ω—å –≤ –ø–æ–ª–Ω–æ—á—å. –î–ª—è —ç—Ç–æ–≥–æ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –Ω–∞—Å—Ç—Ä–æ–∏—Ç—å cron job:

```bash
# –î–æ–±–∞–≤–∏—Ç—å –≤ crontab –¥–ª—è –µ–∂–µ–¥–Ω–µ–≤–Ω–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –≤ 00:00
0 0 * * * cd /path/to/music-room && pnpm reset-track-limits
```

–ê–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–Ω–æ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å Supabase Functions –∏–ª–∏ –ª—é–±–æ–π –¥—Ä—É–≥–æ–π –ø–ª–∞–Ω–∏—Ä–æ–≤—â–∏–∫ –∑–∞–¥–∞—á –¥–ª—è –∑–∞–ø—É—Å–∫–∞ —Å–∫—Ä–∏–ø—Ç–∞ `scripts/reset-daily-track-limits.ts` –µ–∂–µ–¥–Ω–µ–≤–Ω–æ.

## üìä –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –ø—Ä–æ–µ–∫—Ç–∞

### –î–ª—è –±–µ—Å–ø–ª–∞—Ç–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π

- –õ–∏–º–∏—Ç 8 —Ç—Ä–µ–∫–æ–≤ –≤ –¥–µ–Ω—å
- –£—á–∞—Å—Ç–∏–µ –≤ –ø—É–±–ª–∏—á–Ω—ã—Ö –∫–æ–º–Ω–∞—Ç–∞—Ö
- –ë–∞–∑–æ–≤—ã–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª (—á–∞—Ç, –≥–æ–ª–æ—Å–æ–≤–∞–Ω–∏–µ)

### –î–ª—è Premium –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π (–ø–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è)

- –ë–µ–∑–ª–∏–º–∏—Ç–Ω–æ–µ –¥–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç—Ä–µ–∫–æ–≤
- –°–æ–∑–¥–∞–Ω–∏–µ –±–æ–ª—å—à–µ–≥–æ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –∫–æ–º–Ω–∞—Ç
- –†–∞—Å—à–∏—Ä–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è –ø—Ä–æ—Å–ª—É—à–∏–≤–∞–Ω–∏–π
- –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç–Ω–∞—è –ø–æ–¥–¥–µ—Ä–∂–∫–∞

## üéØ –°—Ç–∞—Ç—É—Å —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏

- [x] –¢–µ—Ö–Ω–∏—á–µ—Å–∫–æ–µ –∑–∞–¥–∞–Ω–∏–µ
- [x] –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–µ–∫—Ç–∞
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ ESLint, Prettier –∏ –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —É—Ç–∏–ª–∏—Ç
- [x] –ù–∞—Å—Ç—Ä–æ–π–∫–∞ Supabase
- [x] RLS (Row Level Security) –ø–æ–ª–∏—Ç–∏–∫–∏
- [x] Zustand stores
- [x] –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- [ ] MVP —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª
- [ ] –°–∏—Å—Ç–µ–º–∞ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏–∏
- [ ] –û—Å–Ω–æ–≤–Ω–æ–π UI
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å –º—É–∑—ã–∫–∞–ª—å–Ω—ã–º–∏ API

## üìù –õ–∏—Ü–µ–Ω–∑–∏—è

MIT License - —Å–º. [LICENSE](LICENSE) —Ñ–∞–π–ª –¥–ª—è –¥–µ—Ç–∞–ª–µ–π.

---

–°–¥–µ–ª–∞–Ω–æ —Å ‚ù§Ô∏è –¥–ª—è –ª—é–±–∏—Ç–µ–ª–µ–π –º—É–∑—ã–∫–∏
